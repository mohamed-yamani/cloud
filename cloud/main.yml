---
  - name: cloud-1.
    hosts: all
    become: true
    tasks:
      - import_tasks: docker_install/tasks/main.yml
      - name: Create a network
        docker_network:
          name: cloud-network
      - name: create nginx container
        docker_container:
          name: nginx
          image: nginx
          state: started
          # volumes:
          #   - ./nginx:/usr/share/nginx/html
          ports: 
            - 80:80
            - 443:443
          expose:
            - 80
            - 443
          # network: cloud-1
      - name: copy nginx config
        copy:
          src: ./ansible.cfg
          dest: /
          # owner: root:root

    
      
      # - name: Show the result of the echo.
      #   debug: var=echo_result.stdout

      # - name: Ensure Apache is installed.
      #   apt: 
      #     name: "{{ apache_package }}"
      #     state: present
      
      # - name: Copy the Apache config file.
      #   copy:
      #     src: test
      #     dest: "{{ apache_conf_dir }}/test.conf"
      #   notify: restart apache

      # - name: Ensure Apache is running and starts at boot.
      #   service:
      #     name: "{{ apache_service }}"
      #     state: started
      #     enabled: yes